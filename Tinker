#include <Servo.h>

Servo servoMotor;

const int SERVO_PIN = 10;

void setup() {
  Serial.begin(9600);    // comunicação com Python/ESP8266

  servoMotor.attach(SERVO_PIN);
  servoMotor.write(90);

  Serial.println("Arduino pronto! Envie 1=mais ou 2=menos.");
}

void loop() {

  // ----- RECEBER COMANDO DO PYTHON OU ESP8266 -----
  if (Serial.available() > 0) {
    char comando = Serial.read();

    if (comando == '1') {
      Serial.println("Serial → mais()");
      mais();
    }

    else if (comando == '2') {
      Serial.println("Serial →menos()");
      menos();
    }
  }
}


// --------- FUNÇÕES DO SERVO 
void idle() {
  servoMotor.write(90);
  delay(150);
}

void mais() {
  servoMotor.write(120);
  delay(500);
  idle();
}

void menos() {
  servoMotor.write(60);
  delay(500);
  idle();
}
